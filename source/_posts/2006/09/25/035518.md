---
categories:
  - 情報技術について
comment: false
date: 2006-09-25 03:55:18
id: 988
iso8601: 2006-09-25T03:55:18+09:00
tags:
  - undef
title: ファイルパスから正規表現で色々と取り出す方法

---

<div class="entry-body">
                                 <p>ファイルのコピーでも使ったけど、正規表現で何かを取り出したいときに使いやすいコード。</p>

```default
(my $to_dir = $to) =~ s|([^/]*?)$||;
```

<p>例の場合は、ファイルパスからディレクトリ名を取り出す。<br />
この場合$toは変更されない。<br />
$toの中身が$to_dirにコピーされて、$to_dirに対して置換が実施される。<br />
２行に分けて書いても同じだが、１行で書けるのが便利。</p>

```default
my $to_dir = $to;
$to_dir =~ s|([^/]*?)$||;
```

<p>置換の内容は、一番右の「/（スラッシュ）」よりも右側を、空文字列に置き換える（平たく言うと、削除する）。</p>

<p>他にも、ファイル名だけを取り出してみたり、</p>

```default
(my $filename = $path) =~ s|^.*/||;
```

<p>拡張子（ファイル名のピリオド以降）を取り出してみたり、</p>

```default
(my $ext = $path) =~ s/^.*.//;
```

<p>してみる。</p>
                              </div>
    	