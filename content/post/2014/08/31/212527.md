---
date: 2014-08-31T21:25:27+09:00
draft: false
iso8601: 2014-08-31T21:25:27+09:00
tags:
  - perl
  - yapc
  - perl-entrance
title: Perl入学式について振り返ってみた

---

<p><a href="https://twitter.com/nqounet">@nqounet</a>です。</p>

<p>YAPC熱冷めやらぬ今日このごろ、いかがお過ごしですか？</p>

<p>私は熱くてもうダメです。</p>



<h2>Perl入学式のゴール</h2>

<p>どうやって決まったかは忘れましたが、ゴールは一行掲示板のようなウェブアプリを作る、ということにしました。</p>

<blockquote>
  <p>簡易版twitterのような｢一言掲示板｣の完成を目標にして, その為に必要な知識を学んでいこうと考えています.</p>
</blockquote>

<p>何故ウェブアプリか、というと、ウェブアプリを作ることができる言語、という位置付けでPerlを捉えてほしいと思ったから、だろうと思います。</p>

<p>既に3年目も半ばを迎える頃になって、今更感じたのですが、ゴールと中身が噛み合っていないですね。</p>

<p>初年度は、12回の目標で結果11回になりましたが、ウェブアプリを作るためのMojoliciousというウェブアプリケーションフレームワーク（以下WAF）が登場したのは第10回でした。</p>

<p>2回分でWAFの説明をしたのですが、出てくることがほぼ新しいことばかりで、とても大変だったと思います。</p>

<p>応用編というのは、基礎編の知識があって成り立つのが大事で、こういう積み重ねで基礎が大事だな、という認識が得られるのだと思います。</p>

<p>しかし、突然のウェブアプリ作成で、基礎編とほぼ無関係の新しいWAFを覚えなければならないというのは、覚えることが横に広がってしまって、達成感が得られないんじゃないかと。</p>

<p>そして更に問題なのは、ここから応用するのが非常に難しいことです。</p>

<p>もし、ゴールの設定を変えないのであれば、Perlの基本部分は軽めにして、WAF（例えばMojolicious）の使い方を初回から実施して、応用の仕方や応用に必要な知識をフォローしていく、という方が良い気がします。</p>

<h2>ウェブから離れたゴール設定</h2>

<p>今のカリキュラムのままで進むのであれば、コマンドラインのアプリを作るほうが、より達成感が得られるような気がします。</p>

<p>そういう意味では、YAPC::Asiaでのbot作りがゴールでも良い気がします。</p>

<p>1行掲示板の場合、ユーザーインターフェイスとしては、発言するボックスと、発言の一覧があれば良いです。</p>

<p>ということは、モードで考えると入力モードと一覧モードがあれば良い。</p>

<p>昔風のプログラムであれば、入力の時は1、一覧は2、終了は9を押してEnter、という風に作っておき、それぞれ機能を分岐させる。</p>

```
#!/usr/bin/env perl
use utf8;
use 5.012001;

use DDP {deparse => 1};

my @list = ();

while (my $in = <>) {
    chomp $in;
    if ($in == 1) {
        print '>>> ';
        my $msg = <>;
        unshift @list, $msg;
    }
    if ($in == 2) {
        print @list;
    }
    if ($in == 9) {
        exit;
    }
}
```

<p>見た目はかなりしょぼいですが、一応機能的にはこれで満足しているはず。</p>

<p>あとは、ちゃんとメニューっぽくしたり、if文の中身を関数にしたり、@listをファイルに保存したり、項目を追加してCSV（またはJSON）で保存したり、という風に拡張したりもできる。</p>

<p>これらは少しずつ追加で覚えればいいのですが、あらためて考えると、たったこれだけのことをウェブで動くようにするだけで1回分の説明がいるのはやっぱり大変ですよ。</p>

<p>本当に今さらですが、ゴールがおかしいですね。えぇ。</p>
    	